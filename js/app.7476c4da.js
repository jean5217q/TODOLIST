(function(t){function e(e){for(var o,s,c=e[0],l=e[1],r=e[2],u=0,f=[];u<c.length;u++)s=c[u],a[s]&&f.push(a[s][0]),a[s]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);d&&d(e);while(f.length)f.shift()();return i.push.apply(i,r||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,c=1;c<n.length;c++){var l=n[c];0!==a[l]&&(o=!1)}o&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},a={app:0},i=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var r=0;r<c.length;r++)e(c[r]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"00ad":function(t,e,n){},"06fb":function(t,e,n){},"0ceb":function(t,e,n){"use strict";var o=n("06fb"),a=n.n(o);a.a},2492:function(t,e,n){"use strict";var o=n("e01d"),a=n.n(o);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var o=n("2b0e"),a=n("5c96"),i=n.n(a),s=n("31bd"),c=(n("0fae"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("nav",[n("div",{staticClass:"nav-inner"},[n("router-link",{attrs:{to:"/all"}},[t._v("全部")]),n("router-link",{attrs:{to:"/active"}},[t._v("未完成")]),n("router-link",{attrs:{to:"/complete"}},[t._v("已完成")])],1)]),n("TodoInput"),n("div",{staticClass:"todoList"},t._l(t.TODOS,function(t){return n("TodoListItem",{key:t,attrs:{index:t}})}))],1)}),l=[],r=n("be94"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"todoList-item"},[null===t.editText?n("div",{staticClass:"show"},[n("div",{staticClass:"show-panel"},[n("label",{staticClass:"done",class:{checked:t.complete}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.complete,expression:"complete"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.complete)?t._i(t.complete,null)>-1:t.complete},on:{change:function(e){var n=t.complete,o=e.target,a=!!o.checked;if(Array.isArray(n)){var i=null,s=t._i(n,i);o.checked?s<0&&(t.complete=n.concat([i])):s>-1&&(t.complete=n.slice(0,s).concat(n.slice(s+1)))}else t.complete=a}}})]),n("div",{staticClass:"text"},[n("div",{staticClass:"main",class:{checked:t.complete}},[t._v(t._s(t.todo.content)+" ")]),n("div",{staticClass:"date"},[t._v(t._s(t.todo.date))])]),n("div",{staticClass:"icon",class:{checked:t.complete}},[n("div",{staticClass:"edit",on:{click:t.editHandler}},[n("i",{staticClass:"fas fa-pencil-alt"})]),n("div",{staticClass:"delete",on:{click:t.deleteHandler}},[n("i",{staticClass:"far fa-trash-alt"})])])])]):n("div",{staticClass:"edits"},[n("div",{staticClass:"edit-panel"},[n("div",{staticClass:"edit-text"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.editText,expression:"editText"},{name:"focus",rawName:"v-focus"}],staticClass:"edit-main",attrs:{placeholder:"請輸入修改內容"},domProps:{value:t.editText},on:{input:function(e){e.target.composing||(t.editText=e.target.value)}}}),n("el-date-picker",{staticClass:"edit-date",attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy/MM/dd"},model:{value:t.editDate,callback:function(e){t.editDate=e},expression:"editDate"}})],1),n("div",{staticClass:"edit-icon"},[n("div",{staticClass:"enter",on:{click:t.submitHandler}},[t._m(0)]),n("div",{staticClass:"cancel",on:{click:t.cancelHandler}},[t._m(1)])])])])])},u=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"enter-icon"},[n("i",{staticClass:"fas fa-check"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cancel-icon"},[n("i",{staticClass:"fas fa-times"})])}],f=n("2f62"),p={data:function(){return{editText:null,editDate:null,check:!1}},props:["index"],computed:{todo:function(){return this.$store.state.todos[this.index]},complete:{get:function(){return this.todo.complete},set:function(){this.UPDATE_TODO({index:this.index,data:{content:this.todo.content,complete:!this.todo.complete,date:this.todo.date}})}}},methods:Object(r["a"])({},Object(f["c"])(["NEWTODO"]),Object(f["d"])(["DELETE_TODO","UPDATE_TODO","COMPLETE"]),{deleteHandler:function(){confirm("確定刪除「 ".concat(this.todo.content,"」？"))&&this.DELETE_TODO(this.index)},editHandler:function(){this.editText=this.todo.content,this.editDate=this.todo.date},cancelHandler:function(){this.editText=null,this.editDate=null},submitHandler:function(){this.editText||(this.deleteHandler(),this.editText=this.todo.content,this.editDate=this.todo.date),this.UPDATE_TODO({index:this.index,data:{content:this.editText,complete:this.todo.complete,date:this.editDate}}),this.cancelHandler()}})},v=p,m=(n("2492"),n("2877")),h=Object(m["a"])(v,d,u,!1,null,null,null);h.options.__file="TodoListItem.vue";var O=h.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"todoInput"}},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.todo,expression:"todo",modifiers:{trim:!0}},{name:"focus",rawName:"v-focus"}],staticClass:"todo",attrs:{type:"text",placeholder:"輸入代辦事項"},domProps:{value:t.todo},on:{input:function(e){e.target.composing||(t.todo=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),n("el-date-picker",{staticClass:"date",attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy/MM/dd"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),n("button",{staticClass:"submit",on:{click:t.submitHandler}},[n("span",[t._v("提")]),n("span",[t._v("交")])]),n("button",{staticClass:"cancel",on:{click:t.cancelHandler}},[n("span",[t._v("取 ")]),n("span",[t._v("消")])])],1)},T=[],b={data:function(){return{date:"",todo:""}},methods:Object(r["a"])({},Object(f["d"])(["ADD_TODO"]),{submitHandler:function(){this.todo&&this.date&&(this.ADD_TODO({content:this.todo,date:this.date,complete:!1}),this.todo="",this.date="")},cancelHandler:function(){this.todo="",this.date=""}})},D=b,x=(n("de01"),Object(m["a"])(D,_,T,!1,null,null,null));x.options.__file="TodoInput.vue";var y=x.exports,C={components:{TodoInput:y,TodoListItem:O},computed:Object(r["a"])({},Object(f["c"])(["TODOS"])),methods:Object(r["a"])({},Object(f["b"])(["INIT_TODOS"])),mounted:function(){this.INIT_TODOS()}},k=C,g=(n("0ceb"),Object(m["a"])(k,c,l,!1,null,null,null));g.options.__file="App.vue";var E=g.exports,j=n("8c4f");o["default"].use(j["a"]);var S=new j["a"]({linkActiveClass:"active",routes:[{path:"/all",name:"all"},{path:"/active",name:"active"},{path:"/complete",name:"complete"},{path:"*",redirect:"/all"}]});n("7f7f"),n("55dd");o["default"].use(f["a"]);var w={load:function(){return JSON.parse(localStorage.getItem("vue-todo")||"[]")},save:function(t){localStorage.setItem("vue-todo",JSON.stringify(t))}},I={all:function(t){return t},active:function(t){return t.filter(function(t){return!t.complete})},complete:function(t){return t.filter(function(t){return t.complete})}},H=new f["a"].Store({state:{todos:[]},getters:{TODOS:function(t){var e=t.todos;return e.sort(function(t,e){var n=t.complete?1e4:0,o=e.complete?1e4:0;return n<o?-1:n>o?1:0}),I[t.route.name](e).map(function(t){return e.indexOf(t)})}},mutations:{SET_TODOS:function(t,e){t.todos=e,w.save(t.todos)},ADD_TODO:function(t,e){t.todos.push(e),w.save(t.todos)},DELETE_TODO:function(t,e){t.todos.splice(e,1),w.save(t.todos)},UPDATE_TODO:function(t,e){var n=e.index,o=e.data;t.todos[n].complete=o.complete,t.todos[n].content=o.content,t.todos[n].date=o.date,w.save(t.todos)}},actions:{INIT_TODOS:function(t){var e=t.commit;e("SET_TODOS",w.load())}}});o["default"].config.productionTip=!1,o["default"].use(i.a),Object(s["sync"])(H,S),o["default"].directive("focus",{inserted:function(t){t.focus()}}),new o["default"]({router:S,store:H,render:function(t){return t(E)}}).$mount("#app")},de01:function(t,e,n){"use strict";var o=n("00ad"),a=n.n(o);a.a},e01d:function(t,e,n){}});
//# sourceMappingURL=app.7476c4da.js.map